

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Query Metric Tags &mdash; KairosDB 0.9.4 documentation</title>
    
    <link rel="stylesheet" href="../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/scrollwide.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.9.4',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="KairosDB 0.9.4 documentation" href="../index.html" />
    <link rel="up" title="REST API" href="index.html" />
    <link rel="next" title="Version" href="Version.html" />
    <link rel="prev" title="Query Metrics" href="QueryMetrics.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="Version.html" title="Version"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="QueryMetrics.html" title="Query Metrics"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">KairosDB 0.9.4 documentation</a> &raquo;</li>
          <li><a href="index.html" accesskey="U">REST API</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="query-metric-tags">
<h1>Query Metric Tags<a class="headerlink" href="#query-metric-tags" title="Permalink to this headline">¶</a></h1>
<p>You can think of this as the exact same as the query but it leaves off the data and just returns the tag information.</p>
<p>Note: Currently this is not implemented in the HBase datastore.</p>
<div class="section" id="filtering">
<h2>Filtering<a class="headerlink" href="#filtering" title="Permalink to this headline">¶</a></h2>
<p>It is possible to filter the tags returned by specifying a tag.</p>
</div>
<div class="section" id="method">
<h2>Method<a class="headerlink" href="#method" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div>POST</div></blockquote>
</div>
<div class="section" id="request">
<h2>Request<a class="headerlink" href="#request" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><a class="reference external" href="http://[host]:[port]/api/v1/datapoints/query/tags">http://[host]:[port]/api/v1/datapoints/query/tags</a></div></blockquote>
</div>
<div class="section" id="body">
<h2>Body<a class="headerlink" href="#body" title="Permalink to this headline">¶</a></h2>
<div class="highlight-python"><div class="highlight"><pre><span class="p">{</span>
   <span class="s">&quot;start_absolute&quot;</span><span class="p">:</span> <span class="mi">1357023600000</span><span class="p">,</span>
   <span class="s">&quot;end_relative&quot;</span><span class="p">:</span> <span class="p">{</span>
       <span class="s">&quot;value&quot;</span><span class="p">:</span> <span class="s">&quot;5&quot;</span><span class="p">,</span>
       <span class="s">&quot;unit&quot;</span><span class="p">:</span> <span class="s">&quot;days&quot;</span>
   <span class="p">},</span>
   <span class="s">&quot;metrics&quot;</span><span class="p">:</span> <span class="p">[</span>
       <span class="p">{</span>
           <span class="s">&quot;tags&quot;</span><span class="p">:</span> <span class="p">{</span>
               <span class="s">&quot;host&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s">&quot;foo&quot;</span><span class="p">]</span>
           <span class="p">},</span>
           <span class="s">&quot;name&quot;</span><span class="p">:</span> <span class="s">&quot;abc.123&quot;</span><span class="p">,</span>
       <span class="p">},</span>
       <span class="p">{</span>
           <span class="s">&quot;tags&quot;</span><span class="p">:</span> <span class="p">{</span>
               <span class="s">&quot;host&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s">&quot;foo&quot;</span><span class="p">]</span>
           <span class="p">},</span>
           <span class="s">&quot;name&quot;</span><span class="p">:</span> <span class="s">&quot;xyz.123&quot;</span><span class="p">,</span>
       <span class="p">}</span>
   <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="query-properties">
<h2>Query Properties<a class="headerlink" href="#query-properties" title="Permalink to this headline">¶</a></h2>
<p>You must specify either <em>start_absolute</em> or <em>start_relative</em> but not both. Similarly, you may specify either <em>end_absolute</em> or <em>end_relative</em> but not both. If either end time is not specified the current date and time is assumed.</p>
<p><em>start_absolute</em>
The time in milliseconds.</p>
<p><em>start_relative</em>
The relative start time is the current date and time minus the specified value and unit. Possible unit values are &#8220;milliseconds&#8221;, &#8220;seconds&#8221;, &#8220;minutes&#8221;, &#8220;hours&#8221;, &#8220;days&#8221;, &#8220;weeks&#8221;, &#8220;months&#8221;, and &#8220;years&#8221;. For example, if the start time is 5 minutes, the query will return all matching data points for the last 5 minutes.</p>
<p><em>end_absolute</em>
The time in milliseconds. This must be later in time than the start time. If not specified, the end time is assumed to be the current date and time.</p>
<p><em>end_relative</em>
The relative end time is the current date and time minus the specified value and unit. Possible unit values are &#8220;milliseconds&#8221;, &#8220;seconds&#8221;, &#8220;minutes&#8221;, &#8220;hours&#8221;, &#8220;days&#8221;, &#8220;weeks&#8221;, &#8220;months&#8221;, and &#8220;years&#8221;. For example, if the start time is 30 minutes and the end time is 10 minutes, the query returns matching data points that occurred between the last 30 minutes up to and including the last 10 minutes. If not specified, the end time is assumed to the current date and time.</p>
</div>
<div class="section" id="metric-properties">
<h2>Metric Properties<a class="headerlink" href="#metric-properties" title="Permalink to this headline">¶</a></h2>
<p><em>name</em></p>
<p>The name of the metric(s) to return data points for. The name is required.</p>
<p><em>tags</em></p>
<p>Tags narrow down the search. Only metrics that include the tag and matches one of the values are returned. Tags is optional.</p>
</div>
<div class="section" id="response">
<h2>Response<a class="headerlink" href="#response" title="Permalink to this headline">¶</a></h2>
<dl class="docutils">
<dt><em>Success</em></dt>
<dd>The response contains either the metric values or possible error values. Returns 200 for successful queries.</dd>
</dl>
<div class="highlight-python"><div class="highlight"><pre><span class="p">{</span>
    <span class="s">&quot;results&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s">&quot;name&quot;</span><span class="p">:</span> <span class="s">&quot;abc_123&quot;</span><span class="p">,</span>
            <span class="s">&quot;tags&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s">&quot;host&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s">&quot;server1&quot;</span><span class="p">,</span><span class="s">&quot;server2&quot;</span><span class="p">],</span>
                <span class="s">&quot;type&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s">&quot;bar&quot;</span><span class="p">]</span>
            <span class="p">}</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s">&quot;name&quot;</span><span class="p">:</span> <span class="s">&quot;xyz_123&quot;</span><span class="p">,</span>
            <span class="s">&quot;tags&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s">&quot;host&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s">&quot;server1&quot;</span><span class="p">,</span><span class="s">&quot;server2&quot;</span><span class="p">],</span>
                <span class="s">&quot;type&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s">&quot;bar&quot;</span><span class="p">]</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
<p><em>Failure</em></p>
<blockquote>
<div><p>The response will be 400 Bad Request if the request is invalid.</p>
<p>The response will be 500 Internal Server Error if an error occurs retrieving data.</p>
</div></blockquote>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Query Metric Tags</a><ul>
<li><a class="reference internal" href="#filtering">Filtering</a></li>
<li><a class="reference internal" href="#method">Method</a></li>
<li><a class="reference internal" href="#request">Request</a></li>
<li><a class="reference internal" href="#body">Body</a></li>
<li><a class="reference internal" href="#query-properties">Query Properties</a></li>
<li><a class="reference internal" href="#metric-properties">Metric Properties</a></li>
<li><a class="reference internal" href="#response">Response</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="QueryMetrics.html"
                        title="previous chapter">Query Metrics</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="Version.html"
                        title="next chapter">Version</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../_sources/restapi/QueryMetricTags.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="Version.html" title="Version"
             >next</a> |</li>
        <li class="right" >
          <a href="QueryMetrics.html" title="Query Metrics"
             >previous</a> |</li>
        <li><a href="../index.html">KairosDB 0.9.4 documentation</a> &raquo;</li>
          <li><a href="index.html" >REST API</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2014, KairosDB.org.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>